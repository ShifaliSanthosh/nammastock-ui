<!-- TOPBAR -->
<div class="topbar">
  <div class="logo">🌐 NammaStock</div>
  <div class="nav">
    <a routerLink="/usa">USA Market</a>
    <a routerLink="/ipo">IPO</a>
    <a routerLink="/commoditiy">Commodities</a>
    <a routerLink="/login">Logout</a>
  </div>
</div>

<!-- SIGNUP PAGE -->
<div *ngIf="showSignup" class="signup-container">
  <h2>Create Account</h2>
  <form (ngSubmit)="onSignup()">
    <label>Email</label>
    <input type="email" [(ngModel)]="signup.email" name="email" required />
    <label>Password</label>
    <input type="password" [(ngModel)]="signup.password" name="password" required />
    <button type="submit">Sign Up</button>
  </form>
</div>

<!-- DASHBOARD -->
<div *ngIf="!showSignup">
  <!-- MAP SECTION -->
  <div class="map-section">
    <h1 class="map-title">🌍 Global Market Overview</h1>
    <div class="world-map">
      <svg viewBox="0 0 1000 500"></svg>
    </div>
  </div>

  <!-- NEWS TICKER -->
  <div class="news-section">
    <div class="news-label">LIVE NEWS</div>
    <div class="news-ticker">
      <div class="news-item" *ngFor="let item of news">
        {{ item }}
      </div>
    </div>
  </div>

  <!-- EQUITY CHART -->
  <div class="equity-section glass-card">
    <h2 class="chart-title">📊 Market Performance (Index vs 50 DMA)</h2>
    <div class="chart-container">
      <canvas id="equityChart"></canvas>
    </div>
  </div>

  <!-- GAINERS & LOSERS -->
  <div class="gainers-losers">
    <!-- Top Gainers -->
    <div class="card-container gainers glass-card">
      <h2>🚀 Top Gainers</h2>
      <div class="stock-card" *ngFor="let stock of topGainers">
        <div class="stock-left">
          <div class="stock-info">
            <h4>{{ stock.company_name }}</h4>
          </div>
        </div>
        <div class="stock-price">
          <div class="price">{{ stock.price }}</div>
          <div
            class="change"
            [ngClass]="{
              positive: stock.percent_change > 0,
              negative: stock.percent_change < 0
            }"
          >
            {{ stock.percent_change }}%
          </div>
        </div>
      </div>
    </div>

    <!-- Top Losers -->
    <div class="card-container losers glass-card">
      <h2>📉 Top Losers</h2>
      <div class="stock-card" *ngFor="let stock of topLossers">
        <div class="stock-left">
          <div class="stock-info">
            <h4>{{ stock.company_name }}</h4>
          </div>
        </div>
        <div class="stock-price">
          <div class="price">{{ stock.price }}</div>
          <div
            class="change"
            [ngClass]="{
              positive: stock.percent_change > 0,
              negative: stock.percent_change < 0
            }"
          >
            {{ stock.percent_change }}%
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
